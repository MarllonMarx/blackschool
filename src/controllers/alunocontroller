const{ response } = require("express");
const alunoService = require("../services/alunoservice");

module.exports ={

    readyAlunos: async (request, response) =>{
        let json ={error: "",result:[]}

        let alunos = await alunoService.searchAlunos()

        for(let i in alunos){
            json.result.push({
                id: alunos[i].id,
                nome: alunos[i].nome,
                dt_nascimento: alunos[i].dt_nascimento
            })
        }
        response.header("Access-Control-Allow-Origin","*")

        if(json.result.length == 0){
            response.status(200).json({
                message:"Nenhuma inst√¢ncia de alunos cadastrada"
            })
        }else{
            response.status(200).json(json)
        }
    }


    
}